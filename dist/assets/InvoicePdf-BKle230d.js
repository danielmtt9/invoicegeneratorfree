import{j as t}from"./Layout-pqkbK2kO.js";import{Document as g,Page as w,View as i,Image as u,Text as r,Link as D,StyleSheet as R}from"./react-pdf.browser-21dgEwUp.js";import{c as S}from"./home-DiRGYnA_.js";function y(l){return Math.round(l*100)/100}function o(l,n){return`${{USD:"$",EUR:"€",GBP:"£",CAD:"C$",AUD:"A$",INR:"₹",JPY:"¥",NGN:"₦"}[n]||`${n} `}${y(l).toFixed(2)}`}function s(l){const n=typeof l=="number"?l:Number(l);return Number.isFinite(n)?n:0}function T(l){const n=(l||"").trim();return/^#[0-9a-fA-F]{6}$/.test(n)?n:"#FFD166"}function B(l){switch(l){case"creative":return{headingSize:24,tableHeaderBg:"#f1f5f9",borderStyle:"dashed"};case"traditional":return{headingSize:20,tableHeaderBg:"#f8fafc",borderStyle:"solid"};default:return{headingSize:22,tableHeaderBg:"#f8fafc",borderStyle:"solid"}}}function A(l,n){const e=B(n);return R.create({page:{paddingTop:36,paddingBottom:36,paddingHorizontal:36,fontSize:11,fontFamily:"Helvetica",color:"#0b1220"},header:{display:"flex",flexDirection:"row",justifyContent:"space-between",marginBottom:18,gap:12},headerLeft:{flexDirection:"row",gap:10,alignItems:"flex-start",maxWidth:310},logo:{width:48,height:48,objectFit:"contain"},h1:{fontSize:e.headingSize,fontWeight:700,color:l},muted:{color:"#556070"},metaBox:{borderWidth:1,borderColor:"#e5e7eb",borderRadius:6,padding:10,minWidth:240,borderStyle:e.borderStyle},metaRow:{display:"flex",flexDirection:"row",justifyContent:"space-between",gap:10,marginBottom:4},metaKey:{color:"#6b7280"},blockRow:{display:"flex",flexDirection:"row",gap:14,marginBottom:16},block:{flex:1,borderWidth:1,borderColor:"#e5e7eb",borderRadius:6,padding:10,borderTopWidth:3,borderTopColor:l},blockTitle:{fontSize:10,color:"#6b7280",marginBottom:6,textTransform:"uppercase",letterSpacing:.8},table:{borderWidth:1,borderColor:"#e5e7eb",borderRadius:6,overflow:"hidden"},tr:{display:"flex",flexDirection:"row"},th:{backgroundColor:e.tableHeaderBg,borderBottomWidth:1,borderBottomColor:"#e5e7eb"},cell:{paddingVertical:8,paddingHorizontal:8,borderBottomWidth:1,borderBottomColor:"#eef2f7"},cDesc:{flex:1.1},cUnit:{width:64,textAlign:"right"},cQty:{width:52,textAlign:"right"},cRate:{width:72,textAlign:"right"},cDisc:{width:62,textAlign:"right"},cAmt:{width:84,textAlign:"right"},totals:{marginTop:12,display:"flex",flexDirection:"row",justifyContent:"flex-end"},totalsBox:{width:320,borderWidth:1,borderColor:"#e5e7eb",borderRadius:6,padding:10},totalsRow:{display:"flex",flexDirection:"row",justifyContent:"space-between",marginBottom:6},totalStrong:{fontWeight:700},balanceDue:{color:l,fontWeight:700},notes:{marginTop:14,borderWidth:1,borderColor:"#e5e7eb",borderRadius:6,padding:10},payment:{marginTop:12,borderWidth:1,borderColor:l,borderRadius:6,padding:10},payLink:{color:l,textDecoration:"underline"},qrRow:{marginTop:6,display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},qrImg:{width:72,height:72},footer:{position:"absolute",bottom:18,left:36,right:36,fontSize:9,color:"#6b7280"}})}function I(l){const n=T(l.draft.brandColor),e=A(n,l.draft.templateId),d=S({items:l.draft.items.map(a=>({qty:s(a.qty),rate:s(a.rate),discountPct:s(a.discountPct)})),taxRatePct:s(l.draft.taxRatePct),invoiceDiscountAmount:s(l.draft.invoiceDiscountAmount),shippingFee:s(l.draft.shippingFee),amountPaid:s(l.draft.amountPaid)});return t.jsx(g,{title:l.draft.invoiceNo||"Invoice",children:t.jsxs(w,{size:"LETTER",style:e.page,children:[t.jsxs(i,{style:e.header,children:[t.jsxs(i,{style:e.headerLeft,children:[l.draft.logoDataUrl?t.jsx(u,{src:l.draft.logoDataUrl,style:e.logo}):null,t.jsxs(i,{children:[t.jsx(r,{style:e.h1,children:"Invoice"}),t.jsxs(r,{style:e.muted,children:["Invoice No: ",l.draft.invoiceNo||"Untitled"]}),t.jsxs(r,{style:e.muted,children:["PO No: ",l.draft.poNo||"-"]})]})]}),t.jsxs(i,{style:e.metaBox,children:[t.jsxs(i,{style:e.metaRow,children:[t.jsx(r,{style:e.metaKey,children:"Issue date"}),t.jsx(r,{children:l.draft.issueDate||"-"})]}),t.jsxs(i,{style:e.metaRow,children:[t.jsx(r,{style:e.metaKey,children:"Due date"}),t.jsx(r,{children:l.draft.dueDate||"-"})]}),t.jsxs(i,{style:e.metaRow,children:[t.jsx(r,{style:e.metaKey,children:"Currency"}),t.jsx(r,{children:l.draft.currency})]}),t.jsxs(i,{style:e.metaRow,children:[t.jsx(r,{style:e.metaKey,children:"Payment terms"}),t.jsx(r,{children:l.draft.paymentTerms||"-"})]})]})]}),t.jsxs(i,{style:e.blockRow,children:[t.jsxs(i,{style:e.block,children:[t.jsx(r,{style:e.blockTitle,children:"From"}),t.jsx(r,{children:l.draft.from||"-"})]}),t.jsxs(i,{style:e.block,children:[t.jsx(r,{style:e.blockTitle,children:"Bill to"}),t.jsx(r,{children:l.draft.billTo||"-"})]})]}),t.jsxs(i,{style:e.table,children:[t.jsxs(i,{style:[e.tr,e.th],children:[t.jsx(r,{style:[e.cell,e.cDesc],children:"Description"}),t.jsx(r,{style:[e.cell,e.cUnit],children:"Unit"}),t.jsx(r,{style:[e.cell,e.cQty],children:"Qty"}),t.jsx(r,{style:[e.cell,e.cRate],children:"Rate"}),t.jsx(r,{style:[e.cell,e.cDisc],children:"Disc %"}),t.jsx(r,{style:[e.cell,e.cAmt],children:"Amount"})]}),l.draft.items.map((a,h)=>{const x=s(a.qty),m=s(a.rate),f=Math.min(100,Math.max(0,s(a.discountPct))),j=x*m,b=j-j*(f/100),c=h===l.draft.items.length-1?{borderBottomWidth:0}:{};return t.jsxs(i,{style:e.tr,children:[t.jsx(r,{style:[e.cell,e.cDesc,c],children:a.description||"-"}),t.jsx(r,{style:[e.cell,e.cUnit,c],children:a.unitType||"quantity"}),t.jsx(r,{style:[e.cell,e.cQty,c],children:y(x).toString()}),t.jsx(r,{style:[e.cell,e.cRate,c],children:o(m,l.draft.currency)}),t.jsx(r,{style:[e.cell,e.cDisc,c],children:y(f).toString()}),t.jsx(r,{style:[e.cell,e.cAmt,c],children:o(b,l.draft.currency)})]},h)})]}),t.jsx(i,{style:e.totals,children:t.jsxs(i,{style:e.totalsBox,children:[t.jsxs(i,{style:e.totalsRow,children:[t.jsx(r,{style:e.metaKey,children:"Line subtotal"}),t.jsx(r,{children:o(d.lineSubtotal,l.draft.currency)})]}),t.jsxs(i,{style:e.totalsRow,children:[t.jsx(r,{style:e.metaKey,children:"Line discounts"}),t.jsxs(r,{children:["-",o(d.lineDiscountTotal,l.draft.currency)]})]}),t.jsxs(i,{style:e.totalsRow,children:[t.jsx(r,{style:e.metaKey,children:"Subtotal"}),t.jsx(r,{children:o(d.subtotal,l.draft.currency)})]}),t.jsxs(i,{style:e.totalsRow,children:[t.jsx(r,{style:e.metaKey,children:"Invoice discount"}),t.jsxs(r,{children:["-",o(d.invoiceDiscountAmountApplied,l.draft.currency)]})]}),t.jsxs(i,{style:e.totalsRow,children:[t.jsx(r,{style:e.metaKey,children:"Shipping"}),t.jsx(r,{children:o(d.shippingFeeApplied,l.draft.currency)})]}),t.jsxs(i,{style:e.totalsRow,children:[t.jsxs(r,{style:e.metaKey,children:[l.draft.taxLabel||"Tax"," (",y(s(l.draft.taxRatePct)).toString(),"%)"]}),t.jsx(r,{children:o(d.tax,l.draft.currency)})]}),t.jsxs(i,{style:e.totalsRow,children:[t.jsx(r,{style:e.totalStrong,children:"Grand total"}),t.jsx(r,{style:e.totalStrong,children:o(d.grandTotal,l.draft.currency)})]}),t.jsxs(i,{style:e.totalsRow,children:[t.jsx(r,{style:e.metaKey,children:"Amount paid"}),t.jsx(r,{children:o(d.amountPaidApplied,l.draft.currency)})]}),t.jsxs(i,{style:[e.totalsRow,{marginBottom:0}],children:[t.jsx(r,{style:e.balanceDue,children:"Balance due"}),t.jsx(r,{style:e.balanceDue,children:o(d.balanceDue,l.draft.currency)})]})]})}),l.draft.paymentLink?t.jsxs(i,{style:e.payment,children:[t.jsx(r,{style:e.blockTitle,children:"Pay online"}),t.jsx(D,{style:e.payLink,src:l.draft.paymentLink,children:l.draft.paymentLink}),l.draft.qrDataUrl?t.jsxs(i,{style:e.qrRow,children:[t.jsx(r,{style:e.metaKey,children:"Scan to pay"}),t.jsx(u,{style:e.qrImg,src:l.draft.qrDataUrl})]}):null]}):null,t.jsxs(i,{style:e.notes,children:[t.jsx(r,{style:e.blockTitle,children:"Bank / payment details"}),t.jsx(r,{children:l.draft.bankDetails||"-"})]}),t.jsxs(i,{style:e.notes,children:[t.jsx(r,{style:e.blockTitle,children:"Notes"}),t.jsx(r,{children:l.draft.notes||"-"})]}),t.jsx(r,{style:e.footer,children:"Generated by Invoice Generator (Maple-Tyne Technologies Inc.)."})]})})}export{I as InvoicePdf};
