import{j as e}from"./Layout-DsosNlEA.js";import{Document as u,Page as b,View as i,Image as g,Text as l,StyleSheet as w}from"./react-pdf.browser-3tEyuls0.js";import{c as R}from"./home-D-FAMP4L.js";function a(s){return Math.round(s*100)/100}function n(s,r){return`${{USD:"$",EUR:"€",GBP:"£",CAD:"C$",AUD:"A$",INR:"₹",JPY:"¥"}[r]||`${r} `}${a(s).toFixed(2)}`}function o(s){const r=typeof s=="number"?s:Number(s);return Number.isFinite(r)?r:0}const t=w.create({page:{paddingTop:36,paddingBottom:36,paddingHorizontal:36,fontSize:11,fontFamily:"Helvetica",color:"#0b1220"},header:{display:"flex",flexDirection:"row",justifyContent:"space-between",marginBottom:18,gap:12},headerLeft:{flexDirection:"row",gap:10,alignItems:"flex-start",maxWidth:300},logo:{width:48,height:48,objectFit:"contain"},h1:{fontSize:22,fontWeight:700},muted:{color:"#556070"},metaBox:{borderWidth:1,borderColor:"#e5e7eb",borderRadius:6,padding:10,minWidth:220},metaRow:{display:"flex",flexDirection:"row",justifyContent:"space-between",gap:10,marginBottom:4},metaKey:{color:"#6b7280"},blockRow:{display:"flex",flexDirection:"row",gap:14,marginBottom:16},block:{flex:1,borderWidth:1,borderColor:"#e5e7eb",borderRadius:6,padding:10},blockTitle:{fontSize:10,color:"#6b7280",marginBottom:6,textTransform:"uppercase",letterSpacing:.8},table:{borderWidth:1,borderColor:"#e5e7eb",borderRadius:6,overflow:"hidden"},tr:{display:"flex",flexDirection:"row"},th:{backgroundColor:"#f8fafc",borderBottomWidth:1,borderBottomColor:"#e5e7eb"},cell:{paddingVertical:8,paddingHorizontal:8,borderBottomWidth:1,borderBottomColor:"#eef2f7"},cDesc:{flex:1.2},cQty:{width:52,textAlign:"right"},cRate:{width:72,textAlign:"right"},cDisc:{width:62,textAlign:"right"},cAmt:{width:84,textAlign:"right"},totals:{marginTop:12,display:"flex",flexDirection:"row",justifyContent:"flex-end"},totalsBox:{width:300,borderWidth:1,borderColor:"#e5e7eb",borderRadius:6,padding:10},totalsRow:{display:"flex",flexDirection:"row",justifyContent:"space-between",marginBottom:6},totalStrong:{fontWeight:700},notes:{marginTop:14,borderWidth:1,borderColor:"#e5e7eb",borderRadius:6,padding:10},footer:{position:"absolute",bottom:18,left:36,right:36,fontSize:9,color:"#6b7280"}});function A(s){const r=R({items:s.draft.items.map(c=>({qty:o(c.qty),rate:o(c.rate),discountPct:o(c.discountPct)})),taxRatePct:o(s.draft.taxRatePct),invoiceDiscountAmount:o(s.draft.invoiceDiscountAmount),shippingFee:o(s.draft.shippingFee),amountPaid:o(s.draft.amountPaid)});return e.jsx(u,{title:s.draft.invoiceNo||"Invoice",children:e.jsxs(b,{size:"LETTER",style:t.page,children:[e.jsxs(i,{style:t.header,children:[e.jsxs(i,{style:t.headerLeft,children:[s.draft.logoDataUrl?e.jsx(g,{src:s.draft.logoDataUrl,style:t.logo}):null,e.jsxs(i,{children:[e.jsx(l,{style:t.h1,children:"Invoice"}),e.jsxs(l,{style:t.muted,children:["Invoice No: ",s.draft.invoiceNo||"Untitled"]}),e.jsxs(l,{style:t.muted,children:["PO No: ",s.draft.poNo||"-"]})]})]}),e.jsxs(i,{style:t.metaBox,children:[e.jsxs(i,{style:t.metaRow,children:[e.jsx(l,{style:t.metaKey,children:"Issue date"}),e.jsx(l,{children:s.draft.issueDate||"-"})]}),e.jsxs(i,{style:t.metaRow,children:[e.jsx(l,{style:t.metaKey,children:"Due date"}),e.jsx(l,{children:s.draft.dueDate||"-"})]}),e.jsxs(i,{style:t.metaRow,children:[e.jsx(l,{style:t.metaKey,children:"Currency"}),e.jsx(l,{children:s.draft.currency})]}),e.jsxs(i,{style:t.metaRow,children:[e.jsx(l,{style:t.metaKey,children:"Payment terms"}),e.jsx(l,{children:s.draft.paymentTerms||"-"})]})]})]}),e.jsxs(i,{style:t.blockRow,children:[e.jsxs(i,{style:t.block,children:[e.jsx(l,{style:t.blockTitle,children:"From"}),e.jsx(l,{children:s.draft.from||"-"})]}),e.jsxs(i,{style:t.block,children:[e.jsx(l,{style:t.blockTitle,children:"Bill to"}),e.jsx(l,{children:s.draft.billTo||"-"})]})]}),e.jsxs(i,{style:t.table,children:[e.jsxs(i,{style:[t.tr,t.th],children:[e.jsx(l,{style:[t.cell,t.cDesc],children:"Description"}),e.jsx(l,{style:[t.cell,t.cQty],children:"Qty"}),e.jsx(l,{style:[t.cell,t.cRate],children:"Rate"}),e.jsx(l,{style:[t.cell,t.cDisc],children:"Disc %"}),e.jsx(l,{style:[t.cell,t.cAmt],children:"Amount"})]}),s.draft.items.map((c,h)=>{const y=o(c.qty),x=o(c.rate),m=Math.min(100,Math.max(0,o(c.discountPct))),j=y*x,f=j-j*(m/100),d=h===s.draft.items.length-1?{borderBottomWidth:0}:{};return e.jsxs(i,{style:t.tr,children:[e.jsx(l,{style:[t.cell,t.cDesc,d],children:c.description||"-"}),e.jsx(l,{style:[t.cell,t.cQty,d],children:a(y).toString()}),e.jsx(l,{style:[t.cell,t.cRate,d],children:n(x,s.draft.currency)}),e.jsx(l,{style:[t.cell,t.cDisc,d],children:a(m).toString()}),e.jsx(l,{style:[t.cell,t.cAmt,d],children:n(f,s.draft.currency)})]},h)})]}),e.jsx(i,{style:t.totals,children:e.jsxs(i,{style:t.totalsBox,children:[e.jsxs(i,{style:t.totalsRow,children:[e.jsx(l,{style:t.metaKey,children:"Line subtotal"}),e.jsx(l,{children:n(r.lineSubtotal,s.draft.currency)})]}),e.jsxs(i,{style:t.totalsRow,children:[e.jsx(l,{style:t.metaKey,children:"Line discounts"}),e.jsxs(l,{children:["-",n(r.lineDiscountTotal,s.draft.currency)]})]}),e.jsxs(i,{style:t.totalsRow,children:[e.jsx(l,{style:t.metaKey,children:"Subtotal"}),e.jsx(l,{children:n(r.subtotal,s.draft.currency)})]}),e.jsxs(i,{style:t.totalsRow,children:[e.jsx(l,{style:t.metaKey,children:"Invoice discount"}),e.jsxs(l,{children:["-",n(r.invoiceDiscountAmountApplied,s.draft.currency)]})]}),e.jsxs(i,{style:t.totalsRow,children:[e.jsx(l,{style:t.metaKey,children:"Shipping"}),e.jsx(l,{children:n(r.shippingFeeApplied,s.draft.currency)})]}),e.jsxs(i,{style:t.totalsRow,children:[e.jsxs(l,{style:t.metaKey,children:["Tax (",a(o(s.draft.taxRatePct)).toString(),"%)"]}),e.jsx(l,{children:n(r.tax,s.draft.currency)})]}),e.jsxs(i,{style:t.totalsRow,children:[e.jsx(l,{style:[t.totalStrong],children:"Grand total"}),e.jsx(l,{style:[t.totalStrong],children:n(r.grandTotal,s.draft.currency)})]}),e.jsxs(i,{style:t.totalsRow,children:[e.jsx(l,{style:t.metaKey,children:"Amount paid"}),e.jsx(l,{children:n(r.amountPaidApplied,s.draft.currency)})]}),e.jsxs(i,{style:[t.totalsRow,{marginBottom:0}],children:[e.jsx(l,{style:[t.totalStrong],children:"Balance due"}),e.jsx(l,{style:[t.totalStrong],children:n(r.balanceDue,s.draft.currency)})]})]})}),e.jsxs(i,{style:t.notes,children:[e.jsx(l,{style:t.blockTitle,children:"Bank / payment details"}),e.jsx(l,{children:s.draft.bankDetails||"-"})]}),e.jsxs(i,{style:t.notes,children:[e.jsx(l,{style:t.blockTitle,children:"Notes"}),e.jsx(l,{children:s.draft.notes||"-"})]}),e.jsx(l,{style:t.footer,children:"Generated by Invoice Generator (Maple-Tyne Technologies Inc.)."})]})})}export{A as InvoicePdf};
